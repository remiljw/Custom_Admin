$('#dashboard, .menu_dashboard a').click(function(){window.location.href='http://localhost:8000/account/dashboard/'});$('a.fillForm').click(function(){axios.defaults.headers.common['Authorization']='Token '+localStorage.getItem('token');axios.get('http://localhost:8000/account/auth-user/').then(r=>{const user=r.data;$(this).off('click');$('div.box').show();$('#id_username').val(user.username);$('#id_password').attr('type','text').val('Please confirm your password');$('#id_email').val(user.email);$('#id_first_name').val(user.first_name);$('#id_last_name').val(user.last_name);}).catch(r=>alert("Your profile can't be updated!"));axios.get('http://localhost:8000/account/auth-user-profile/').then(r=>{const user_profile=r.data[0];$('#birth_date').val(user_profile.birth_date);$('#phone').val(user_profile.phone);$('#address').val(user_profile.address);if(user_profile.photo)
$('img.photo').attr('src',user_profile.photo);else
$('img.photo').attr('src','/static/account/img/no-photo.png').css({'height':'85px','width':'85px'})});});$('#id_password').keyup(function(){$(this).attr('type','password');});;$('input[type="text"], input[type="password"]').keyup(function(e){if(e.keyCode===13)
$('#update').click();});$('#update').click(function(){const data={'username':$('#id_username').val(),'email':$('#id_email').val(),'password':$('#id_password').val(),'first_name':$('#id_first_name').val(),'last_name':$('#id_last_name').val(),'user_profile.phone':$('phone').val(),'user_profile.birth_date':$('#birth_date').val(),'user_profile.address':$('#address').val(),'user_profile.photo':$('#photo').val()};axios.defaults.headers.common['Authorization']='Token '
+localStorage.getItem('token');axios.patch('http://localhost:8000/account/dashboard/update/',data).then(r=>location.reload()).catch(r=>alert(r));});;$('#logout').click(function(){localStorage.removeItem('token');window.location.href='/';});;document.addEventListener('DOMContentLoaded',function(){var $navbarBurgers=Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'),0);if($navbarBurgers.length>0){$navbarBurgers.forEach(function($el){$el.addEventListener('click',function(){var target=$el.dataset.target;var $target=document.getElementById(target);$el.classList.toggle('is-active');$target.classList.toggle('is-active');});});}});;